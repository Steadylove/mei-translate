name = "webtrans-api"
main = "src/index.ts"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]

# Development settings
[dev]
port = 8787
local_protocol = "http"

# KV Namespace for caching
[[kv_namespaces]]
binding = "TRANSLATION_CACHE"
id = "YOUR_KV_ID"
preview_id = "YOUR_KV_PREVIEW_ID"

# D1 Database for translation memory
[[d1_databases]]
binding = "DB"
database_name = "webtrans-memory"
database_id = "YOUR_D1_ID"

# Environment variables (set via wrangler secret)
# OPENAI_API_KEY
# ANTHROPIC_API_KEY
# DEEPSEEK_API_KEY

[vars]
DEFAULT_MODEL = "deepseek"
CORS_ORIGIN = "*"
